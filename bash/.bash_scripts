ssh-engine() {
	SSH_ENV="~/.ssh/environment"
	echo "Initializing SSH agent..."
	chmod -R 0700 ~/.ssh

CKRESULT=$( pidof ssh-agent | wc -w )
if [ "$CKRESULT" = 0 ]; then
	`eval ssh-agent -s`
	find "$HOME/.ssh" -type f -name "id_*" ! -name "*.pub" -exec /usr/bin/ssh-add {} \;  2> /dev/null
	echo "SSH environment succeed"
fi

if [ "$CKRESULT" -gt 1 ]; then
	ff.cpu.kill "ssh-agent"
	`eval ssh-agent -s`
	find "$HOME/.ssh" -type f -name "id_*" ! -name "*.pub" -exec /usr/bin/ssh-add {} \; 2> /dev/null
	echo "SSH environment updated"
fi
if [ "$CKRESULT" = 1 ]; then
	find "$HOME/.ssh" -type f -name "id_*" ! -name "*.pub" -exec /usr/bin/ssh-add {} \; 2> /dev/null
	echo "SSH environment hooked in"
fi
}
loadScripts() {
	if [ ! "$( shopt -oq posix )" ]; then
	#if ! shopt -oq posix; then
	if [ -f /usr/share/bash-completion/bash_completion ]; then
		. /usr/share/bash-completion/bash_completion
	elif [ -f /etec/bash_completions ]; then
			. /etc/bash_completion
		fi
	
fi
	if [ ! -f ~/.bash_aliases ]; then
		ln -s /home/faron/.falcon/bash/.bash_aliases ~/.bash_aliases
	fi
	. ~/.bash_aliases
	if [ ! -f ~/.bash_colors ]; then
		ln -s /home/faron/.falcon/bash/.bash_colors ~/.bash_colors
 	fi
	. ~/.bash_colors

	if [ ! -d ~/.falcon ]; then
		ln -s "/home/faron/.falcon" "~/.falcon"
	fi

}
	if [ "$EUID" = 1004 ] || [ "$EUID" == 1000 ]; then
 		if [ ! -f ~/.bash_todo ]; then
			ln -s "/home/faron/.falcon/bash/.bash_todo" "~/.bash_todo"
		fi
		. ~/.bash_todo
		alias rm="trash-put"
	fi

loadEnvironment() {

export PATH="$PATH:/home/faron/.bin:/home/local/bin"
export PATH="$PATH:/home/local/lib/node_modules"
JAVA_HOME="/usr/local/jvm/jdk1.8.0_60"
JRE_HOME="/usr/local/jvm/jre1.8.0_60"
export PATH="$PATH:$JAVA_HOME/bin:$JRE_HOME/bin"
ANT_HOME="/home/local/share/apache-ant"
export PATH="$PATH:$ANT_HOME/bin"
CLEANUP=`echo $PATH | tr ':' '\n' | sort | uniq | sort | tr '\n' ':' | sed 's/::/:/g'`
export PATH="`echo $CLEANUP`"
loadScripts
ssh-engine
}


if [ "$EUID" = 0 ]; then
	if [ ! "$( kill -9 $( pidof ssh-agent ) )" ]; then
		SSH_AGENT_PID=""
	fi
	if [ -f "$SSH_ENV" ]; then
		rm $SSH_ENV
	fi
	loadEnvironment
fi

if [ "$EUID" = 1000 ] || [ "$EUID" = 1004 ]; then
	loadEnvironment	
fi

######### FARONIZED-MENU FUNCTION 
    function cd  {
    builtin cd "$@"
    RET=$?
    ls
    return $RET
}

